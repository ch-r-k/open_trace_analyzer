<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open Trace Analyzer: Open Trace Analyzer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Open Trace Analyzer
   </div>
   <div id="projectbrief">Auto-generated documentation using Doxygen</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Open Trace Analyzer </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_doc_2mainpage"></a></p>
<h1><a class="anchor" id="overview"></a>
Overview</h1>
<p>Open Trace Analyzer is a comprehensive tool for analyzing system trace files. It imports trace data from various sources (such as QSpy trace files), processes task timing information and state machine transitions, and exports the results as sequence diagrams in multiple formats including PlantUML and Open Trace Viewer JSON format.</p>
<h1><a class="anchor" id="features"></a>
Key Features</h1>
<ul>
<li><b>Multi-format Import</b>: Support for text-based trace files and JSON configurations</li>
<li><b>Task Analysis</b>: Calculates and tracks task timing information and context switches</li>
<li><b>State Machine Support</b>: Processes and visualizes state machine transitions</li>
<li><b>Multiple Export Formats</b>:<ul>
<li>PlantUML sequence diagrams (timing and standard)</li>
<li>Open Trace Viewer JSON format</li>
</ul>
</li>
<li><b>Flexible Configuration</b>: JSON-based configuration system for input/output control</li>
<li><b>Event Processing</b>: Parses event messages, task switches, state changes, and notes from traces</li>
</ul>
<h1><a class="anchor" id="quickstart"></a>
Quick Start</h1>
<h2><a class="anchor" id="usage"></a>
Basic Usage</h2>
<div class="fragment"><div class="line">./open_trace_analyzer &lt;config_file.json&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="examples"></a>
Examples</h2>
<div class="fragment"><div class="line"># Process trace with PlantUML timing diagram output</div>
<div class="line">./open_trace_analyzer config_puml_timing.json</div>
<div class="line"> </div>
<div class="line"># Generate Open Trace Viewer visualization</div>
<div class="line">./open_trace_analyzer config_open_trace_viewer.json</div>
<div class="line"> </div>
<div class="line"># Display help</div>
<div class="line">./open_trace_analyzer --help</div>
</div><!-- fragment --><h1><a class="anchor" id="workflow"></a>
Processing Workflow</h1>
<ol type="1">
<li><b>Input</b>: User provides a JSON configuration file specifying input trace file and output format</li>
<li><b>Parsing</b>: ApplicationManager parses command-line arguments and configuration</li>
<li><b>Import</b>: Trace file is imported and parsed into structured trace entries</li>
<li><b>Processing</b>: Task timing calculations and object creation occur</li>
<li><b>Export</b>: Results are exported in the requested format (PlantUML or JSON)</li>
<li><b>Output</b>: Sequence diagrams or visualization data saved to output file</li>
</ol>
<h1><a class="anchor" id="architecture"></a>
Architecture</h1>
<h2><a class="anchor" id="modules"></a>
Core Modules</h2>
<ul>
<li><b>manager</b>: Application lifecycle and orchestration<ul>
<li><code>ApplicationManager</code>: Main entry point, coordinates import/processing/export</li>
<li><code>ConfigHandler</code>: Parses and validates JSON configuration files</li>
<li><code>CommandLineArgHandler</code>: Processes command-line arguments</li>
<li><code>UserInputHandler</code>: Handles user input validation</li>
</ul>
</li>
<li><b>import</b>: Data import and parsing<ul>
<li><code>ImportTraceFile</code>: Abstract interface for trace file importers</li>
<li><code>TxtImporter</code>: Concrete implementation for text-based trace files (QSpy format)</li>
<li><code>ImportObject</code>: Base class for importable trace objects</li>
<li><code>TxtConfig</code>: Configuration parser for text trace format<ul>
<li>Handles: EventMessages, TaskSwitches, StateMachines, Notes</li>
</ul>
</li>
</ul>
</li>
<li><b>types</b>: Core data structures<ul>
<li><code>TraceEntry</code>: Base class for all trace events</li>
<li><code>TaskObject</code>: Represents a task/object in the system</li>
<li><code>EventMessage</code>: Event occurrence in trace</li>
<li><code>TaskSwitch</code>: Context switch events</li>
<li><code>StateMachine</code>: State machine transitions</li>
<li><code>Note</code>: Annotations in trace data</li>
</ul>
</li>
<li><b>application</b>: Main processing logic<ul>
<li><code>Application</code>: Coordinates trace processing</li>
<li><code>TaskTimingCalculator</code>: Computes timing metrics for tasks</li>
</ul>
</li>
<li><b>export</b>: Output generation<ul>
<li><code>IExportSequence</code>: Abstract export interface</li>
<li><b>PlantUML Export</b>: Generates PlantUML sequence diagrams<ul>
<li><code>ExportPuml</code>: Standard sequence diagrams</li>
<li><code>ExportPumlTiming</code>: Timing-focused diagrams</li>
</ul>
</li>
<li><b>Open Trace Viewer Export</b>: Generates JSON for visualization<ul>
<li><code>OpenTraceViewer</code>: JSON output formatter</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="configuration"></a>
Configuration File Format</h1>
<p>The tool uses JSON configuration files to specify inputs and outputs:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;input_file&quot;: &quot;path/to/trace.txt&quot;,</div>
<div class="line">  &quot;input_type&quot;: &quot;txt&quot;,</div>
<div class="line">  &quot;output_file&quot;: &quot;path/to/output&quot;,</div>
<div class="line">  &quot;output_type&quot;: &quot;puml_timing&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Supported input types:</p><ul>
<li><code>txt</code>: Text-based trace files (QSpy format)</li>
</ul>
<p>Supported output types:</p><ul>
<li><code>puml</code>: PlantUML standard sequence diagram</li>
<li><code>puml_timing</code>: PlantUML timing diagram</li>
<li><code>open_trace_viewer</code>: Open Trace Viewer JSON format</li>
</ul>
<p>// ...existing code...</p>
<h1><a class="anchor" id="inputarguments"></a>
Input Arguments</h1>
<p>The application accepts the following command-line arguments:</p>
<h2><a class="anchor" id="args"></a>
Arguments</h2>
<ul>
<li><code>&lt;config_file&gt;</code>: Path to the JSON configuration file (required)<ul>
<li>Specifies input trace file, input type, output file, and output format</li>
</ul>
</li>
<li><code>--help</code>: Display help message and exit</li>
<li><code>--version</code>: Display version information and exit</li>
</ul>
<h2><a class="anchor" id="argexamples"></a>
Argument Examples</h2>
<div class="fragment"><div class="line"># Run with configuration file</div>
<div class="line">./open_trace_analyzer /path/to/config.json</div>
<div class="line"> </div>
<div class="line"># Display help</div>
<div class="line">./open_trace_analyzer --help</div>
<div class="line"> </div>
<div class="line"># Display version</div>
<div class="line">./open_trace_analyzer --version</div>
</div><!-- fragment --><h1><a class="anchor" id="configfile"></a>
Configuration File Format</h1>
<p>The tool uses JSON configuration files to control the import and export process. The configuration file specifies which trace file to analyze and how to export the results.</p>
<h2><a class="anchor" id="configstructure"></a>
Configuration Structure</h2>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;input_file&quot;: &quot;path/to/input/trace.txt&quot;,</div>
<div class="line">  &quot;input_type&quot;: &quot;txt&quot;,</div>
<div class="line">  &quot;output_file&quot;: &quot;path/to/output/diagram&quot;,</div>
<div class="line">  &quot;output_type&quot;: &quot;puml_timing&quot;,</div>
<div class="line">  &quot;timestamp_scaling_factor&quot;: 1.0</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="configfields"></a>
Configuration Fields</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Field   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Required   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>input_file</code>   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">Path to the input trace file to be analyzed    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>input_type</code>   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">Format of the input file (<code>txt</code> for QSpy text format)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>output_file</code>   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">Path where the output file will be written (without extension)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>output_type</code>   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">Format for the output (<code>puml</code>, <code>puml_timing</code>, or <code>open_trace_viewer</code>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>timestamp_scaling_factor</code>   </td><td class="markdownTableBodyNone">double   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">scales the timestamp by multiplication   </td></tr>
</table>
<h2><a class="anchor" id="inputtypes"></a>
Supported Input Types</h2>
<ul>
<li>**<code>txt</code>**: Text-based trace files<ul>
<li>Expected format: QSpy trace file format</li>
<li>Contains task switches, state machines, events, and notes</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="outputtypes"></a>
Supported Output Types</h2>
<ul>
<li>**<code>puml</code>**: PlantUML standard sequence diagram<ul>
<li>Generates <code>.txt</code> file with PlantUML syntax</li>
<li>Shows interactions between tasks/objects as a sequence diagram</li>
</ul>
</li>
<li>**<code>puml_timing</code>**: PlantUML timing diagram<ul>
<li>Generates <code>.txt</code> file with PlantUML timing diagram syntax</li>
<li>Displays timing relationships and task execution periods</li>
</ul>
</li>
<li>**<code>open_trace_viewer</code>**: Open Trace Viewer JSON format<ul>
<li>Generates <code>.json</code> file compatible with Open Trace Viewer</li>
<li>Suitable for interactive visualization</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="configexamples"></a>
Configuration File Examples</h2>
<h3><a class="anchor" id="example1"></a>
Example 1: PlantUML Timing Diagram</h3>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;input_file&quot;: &quot;traces/qspy_01.txt&quot;,</div>
<div class="line">  &quot;input_type&quot;: &quot;txt&quot;,</div>
<div class="line">  &quot;output_file&quot;: &quot;output/timing_diagram&quot;,</div>
<div class="line">  &quot;output_type&quot;: &quot;puml_timing&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="example2"></a>
Example 2: Open Trace Viewer Format</h3>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;input_file&quot;: &quot;traces/embedded_system.txt&quot;,</div>
<div class="line">  &quot;input_type&quot;: &quot;txt&quot;,</div>
<div class="line">  &quot;output_file&quot;: &quot;output/trace_visualization&quot;,</div>
<div class="line">  &quot;output_type&quot;: &quot;open_trace_viewer&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="example3"></a>
Example 3: Standard Sequence Diagram</h3>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;input_file&quot;: &quot;traces/system_trace.txt&quot;,</div>
<div class="line">  &quot;input_type&quot;: &quot;txt&quot;,</div>
<div class="line">  &quot;output_file&quot;: &quot;output/sequence&quot;,</div>
<div class="line">  &quot;output_type&quot;: &quot;puml&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="configerrors"></a>
Configuration Validation</h2>
<p>The application validates the configuration file and will report errors for:</p><ul>
<li>Missing required fields</li>
<li>Invalid input type (not <code>txt</code>)</li>
<li>Invalid output type (not <code>puml</code>, <code>puml_timing</code>, or <code>open_trace_viewer</code>)</li>
<li>Non-existent input files</li>
<li>Invalid file paths for output</li>
</ul>
<h1><a class="anchor" id="building"></a>
Building the Project</h1>
<div class="fragment"><div class="line"># Create build directory</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line"> </div>
<div class="line"># Configure with CMake</div>
<div class="line">cmake ..</div>
<div class="line"> </div>
<div class="line"># Build</div>
<div class="line">make</div>
<div class="line"> </div>
<div class="line"># Run tests</div>
<div class="line">make test</div>
</div><!-- fragment --><h1><a class="anchor" id="testing"></a>
Testing</h1>
<p>Unit tests are included throughout the codebase:</p><ul>
<li>Configuration validation tests</li>
<li>Command-line argument parsing tests</li>
<li>Trace import tests</li>
<li>System integration tests</li>
</ul>
<p>Run tests with: </p><div class="fragment"><div class="line">cd build</div>
<div class="line">ctest --output-on-failure</div>
</div><!-- fragment --><h1><a class="anchor" id="extending"></a>
Extending the Tool</h1>
<p>To add a new import format:</p><ol type="1">
<li>Create a new class inheriting from <code>IImportTrace</code></li>
<li>Implement the import logic</li>
<li>Register in <code>ApplicationManager</code></li>
</ol>
<p>To add a new export format:</p><ol type="1">
<li>Create a new class inheriting from <code>IExportSequence</code></li>
<li>Implement the export logic</li>
<li>Register in <code>ApplicationManager</code></li>
</ol>
<h1><a class="anchor" id="license"></a>
License</h1>
<p>[Add your license information] </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
